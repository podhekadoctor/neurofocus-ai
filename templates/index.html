<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADHD Insight - Screening Tool</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/style.css">

    <!-- ADD THIS LINE TO CONVERT THE AI'S RESPONSE TO A TABLE -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

</head>
<body>
    <!-- The rest of your body tag remains exactly the same... -->
    <div class="container">
        <header>
            <h1>ADHD Insight</h1>
            
        </header>

        <!-- Progress Bar -->
        <div class="progress-bar-container">
            <div class="progress-bar"></div>
        </div>

        <main id="wizard">
            <!-- All your wizard steps are unchanged... -->
            <!-- Step 0: Welcome -->
            <div class="wizard-step active" id="step-0">
                <h2>Welcome to the Screening</h2>
                <p>This tool consists of four short tests to explore cognitive patterns related to attention, impulsivity, and memory. Please complete them in a quiet environment.</p>
                <p class="disclaimer"><strong>Disclaimer:</strong> This is a hackathon project, not a diagnostic tool. Consult a healthcare professional for an accurate diagnosis.</p>
                <button class="next-btn">Start</button>
            </div>

            <!-- Step 1: Hyperactivity Questionnaire -->
            <div class="wizard-step" id="step-1">
                <h2>Test 1: Questionnaire</h2>
                <p>Based on the last 6 months, how often do you...</p>
                <div id="hyperactivity-content"></div>
                <button class="next-btn" disabled>Next Test</button>
            </div>

            <!-- Step 2: Reaction Time -->
            <div class="wizard-step" id="step-2">
                <h2>Test 2: Reaction Time</h2>
                <p>Click the colored box as soon as it turns <span style="color:#2ecc71;">green</span>. Complete 5 rounds.</p>
                <div id="reaction-box">Click me to start</div>
                <p>Average: <span id="reaction-avg">0</span> ms</p>
                <button class="next-btn" disabled>Next Test</button>
            </div>

            <!-- Step 3: Attention Span -->
            <div class="wizard-step" id="step-3">
                <h2>Test 3: Attention Span</h2>
                <p>Press the <strong>spacebar</strong> ONLY for the <span style="color:#2ecc71;">green circle</span>. Do nothing for the red square. (30 seconds)</p>
                <button id="start-attention">Start Attention Test</button>
                <div id="attention-stimulus-container">
                    <div id="attention-stimulus"></div>
                </div>
                <p>Hits: <span id="attention-hits">0</span> | Misses: <span id="attention-misses">0</span> | False Clicks: <span id="attention-false-clicks">0</span></p>
                <button class="next-btn" disabled>Next Test</button>
            </div>

            <!-- Step 4: Memory Test -->
            <div class="wizard-step" id="step-4">
                <h2>Test 4: Visual Memory</h2>
                <p>Memorize the sequence of glowing tiles, then repeat it. The sequence gets longer each level.</p>
                <button id="start-memory">Start Memory Test</button>
                <div id="memory-grid"></div>
                <p>Highest Level: <span id="memory-level">0</span></p>
                <button id="get-results-btn" disabled>See My Results</button>
            </div>

            <!-- Step 5: Results -->
            <div class="wizard-step" id="step-5">
                <h2>Your AI-Powered Analysis</h2>
                <div class="loader" id="loader"></div>
                <div id="results-output"></div>
                 <p class="disclaimer">Remember, this analysis is generated by AI for informational purposes and is not a substitute for professional medical advice.</p>
            </div>
        </main>
    </div>
    <script src="/static/js/script.js"></script>
</body>
</html>